(this["webpackJsonpreact-dashboard-corona"]=this["webpackJsonpreact-dashboard-corona"]||[]).push([[0],{331:function(e,a,t){e.exports=t(559)},336:function(e,a,t){},337:function(e,a,t){},338:function(e,a,t){},339:function(e,a,t){},559:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),i=t(16),o=t.n(i),r=(t(336),t(96)),s=t(97),c=t(106),d=t(105),m=(t(337),t(338),t(339),t(340),t(38)),u=t.n(m),p=t(72),g=t(98),h=t(143),f="https://api.covid19india.org/data.json",v="https://api.covid19india.org/state_district_wise.json",y="https://api.covid19india.org/states_daily.json",b="outerMapProperty",E="timeSeriesProperty",N=function(e){return"dadra and nagar haveli and daman and diu"===e.toLowerCase()?"DNH and DD":"andaman and nicobar islands"===e.toLowerCase()?"Andaman and Nicobar":e},D={India:{outerMapProperty:"statewise",timeSeriesProperty:"cases_time_series",totalConfirmedProp:"totalconfirmed",totalDeceasedProp:"totaldeceased",totalRecoveredProp:"totalrecovered",totalActiveProp:"totalactive",dateProp:"date"},INDIAN_STATES:{outerMapProperty:"statewise",timeSeriesProperty:"cases_time_series",totalConfirmedProp:"totalconfirmed",totalDeceasedProp:"totaldeceased",totalRecoveredProp:"totalrecovered",totalActiveProp:"totalactive",dateProp:"date"}},S={India:{name:"statecode"}},C=[{key:"in",value:"in",flag:"in",label:"India"},{key:"inap",value:"inap",flag:"in",label:"Andhra Pradesh"},{key:"inar",value:"inar",flag:"in",label:"Arunachal Pradesh"},{key:"inas",value:"inas",flag:"in",label:"Assam"},{key:"inbr",value:"inbr",flag:"in",label:"Bihar"},{key:"inct",value:"inct",flag:"in",label:"Chhattisgarh"},{key:"inga",value:"inga",flag:"in",label:"Goa"},{key:"ingj",value:"ingj",flag:"in",label:"Gujarat"},{key:"inhr",value:"inhr",flag:"in",label:"Haryana"},{key:"inhp",value:"inhp",flag:"in",label:"Himachal Pradesh"},{key:"injh",value:"injh",flag:"in",label:"Jharkhand"},{key:"inka",value:"inka",flag:"in",label:"Karnataka"},{key:"inkl",value:"inkl",flag:"in",label:"Kerala"},{key:"inmp",value:"inmp",flag:"in",label:"Madhya Pradesh"},{key:"inmh",value:"inmh",flag:"in",label:"Maharashtra"},{key:"inmn",value:"inmn",flag:"in",label:"Manipur"},{key:"inml",value:"inml",flag:"in",label:"Meghalaya"},{key:"inmz",value:"inmz",flag:"in",label:"Mizoram"},{key:"innl",value:"innl",flag:"in",label:"Nagaland"},{key:"inor",value:"inor",flag:"in",label:"Odisha"},{key:"inpb",value:"inpb",flag:"in",label:"Punjab"},{key:"inrj",value:"inrj",flag:"in",label:"Rajasthan"},{key:"insk",value:"insk",flag:"in",label:"Sikkim"},{key:"intn",value:"intn",flag:"in",label:"Tamil Nadu"},{key:"intg",value:"intg",flag:"in",label:"Telangana"},{key:"intr",value:"intr",flag:"in",label:"Tripura"},{key:"inut",value:"inut",flag:"in",label:"Uttarakhand"},{key:"inup",value:"inup",flag:"in",label:"Uttar Pradesh"},{key:"inwb",value:"inwb",flag:"in",label:"West Bengal"},{key:"inan",value:"inan",flag:"in",label:"Andaman and Nicobar Islands"},{key:"inch",value:"inch",flag:"in",label:"Chandigarh"},{key:"indn",value:"indh",flag:"in",label:"Dadra and Nagar Haveli"},{key:"indn",value:"indn",flag:"in",label:"Daman and Diu"},{key:"indl",value:"indl",flag:"in",label:"Delhi"},{key:"injk",value:"injk",flag:"in",label:"Jammu and Kashmir"},{key:"inla",value:"inla",flag:"in",label:"Ladakh"},{key:"inld",value:"inld",flag:"in",label:"Lakshadweep"},{key:"inpy",value:"inpy",flag:"in",label:"Puducherry"}],k={in:"India",inap:"Andhra Pradesh",inar:"Arunachal Pradesh",inas:"Assam",inbr:"Bihar",inct:"Chhattisgarh",inga:"Goa",ingj:"Gujarat",inhr:"Haryana",inhp:"Himachal Pradesh",injh:"Jharkhand",inka:"Karnataka",inkl:"Kerala",inmp:"Madhya Pradesh",inmh:"Maharashtra",inmn:"Manipur",inml:"Meghalaya",inmz:"Mizoram",innl:"Nagaland",inor:"Odisha",inpb:"Punjab",inrj:"Rajasthan",insk:"Sikkim",intn:"Tamil Nadu",intg:"Telangana",intr:"Tripura",inut:"Uttarakhand",inup:"Uttar Pradesh",inwb:"West Bengal",inan:"Andaman and Nicobar Islands",inch:"Chandigarh",indn:"Dadra and Nagar Haveli and Daman and Diu",indh:"Daman and Diu",indl:"Delhi",injk:"Jammu and Kashmir",inla:"Ladakh",inld:"Lakshadweep",inpy:"Puducherry"},T="/covid19-react/maps/",A={India:{name:"india",projectionType:"geoMercator",projectionLib:"d3",mapFile:function(){return T+"india_dist.json"},propertyField:"st_nm",featureCollectionObject:function(){return"india-states"},dataObjectForRegionName:"state"},World:{name:"world",projectionType:"geoCylindricalStereographic",projectionLib:"dgp",mapFile:function(){return T+"world50_noA.json"},propertyField:"name",featureCollectionObject:function(){return"countries"}},INDIAN_STATES:{name:"INDIAN_STATES",projectionType:"geoMercator",projectionLib:"d3",mapFile:function(e){return console.log(T+e.replace(/\s/g,"").toLocaleLowerCase()+".json"),T+e.replace(/\s/g,"").toLocaleLowerCase()+".json"},propertyField:"district",featureCollectionObject:function(e){return console.log(e.replace(/\s/g,"").toLowerCase()+"_district"),e.replace(/\s/g,"").toLowerCase()+"_district"},dataObjectForRegionName:"district"}},x={name:"geoCylindricalStereographic",d3package:"dgp"},I={ap:"inap",ar:"inar",as:"inas",br:"inbr",ct:"inct",ga:"inga",gj:"ingj",hr:"inhr",hp:"inhp",jh:"injh",ka:"inka",kl:"inkl",mp:"inmp",mh:"inmh",mn:"inmn",ml:"inml",mz:"inmz",nl:"innl",or:"inor",pb:"inpb",rj:"inrj",sk:"insk",tn:"intn",tg:"intg",tr:"intr",ut:"inut",up:"inup",wb:"inwb",an:"inan",ch:"inch",dn:"indn",dh:"indh",dd:"indd",dl:"indl",jk:"injk",la:"inla",ld:"inld",py:"inpy"},j={inap:"Andhra Pradesh",inar:"Arunachal Pradesh",inas:"Assam",inbr:"Bihar",inct:"Chhattisgarh",inga:"Goa",ingj:"Gujarat",inhr:"Haryana",inhp:"Himachal Pradesh",injh:"Jharkhand",inka:"Karnataka",inkl:"Kerala",inmp:"Madhya Pradesh",inmh:"Maharashtra",inmn:"Manipur",inml:"Meghalaya",inmz:"Mizoram",innl:"Nagaland",inor:"Odisha",inpb:"Punjab",inrj:"Rajasthan",insk:"Sikkim",intn:"Tamil Nadu",intg:"Telangana",intr:"Tripura",inut:"Uttarakhand",inup:"Uttar Pradesh",inwb:"West Bengal",inan:"Andaman and Nicobar Islands",inch:"Chandigarh",indn:"Dadra and Nagar Haveli and Daman and Diu",indh:"Daman and Diu",indl:"Delhi",injk:"Jammu and Kashmir",inla:"Ladakh",inld:"Lakshadweep",inpy:"Puducherry"},V={"Andhra Pradesh":{code:"inap",fileUrl:"INDIAN_STATES"},"Arunachal Pradesh":{code:"inar",fileUrl:"INDIAN_STATES"},Assam:{code:"inas",fileUrl:"INDIAN_STATES"},Bihar:{code:"inbr",fileUrl:"INDIAN_STATES"},Chhattisgarh:{code:"inct",fileUrl:"INDIAN_STATES"},Goa:{code:"inga",fileUrl:"INDIAN_STATES"},Gujarat:{code:"ingj",fileUrl:"INDIAN_STATES"},Haryana:{code:"inhr",fileUrl:"INDIAN_STATES"},"Himachal Pradesh":{code:"inhp",fileUrl:"INDIAN_STATES"},Jharkhand:{code:"injh",fileUrl:"INDIAN_STATES"},Karnataka:{code:"inka",fileUrl:"INDIAN_STATES"},Kerala:{code:"inkl",fileUrl:"INDIAN_STATES"},"Madhya Pradesh":{code:"inmp",fileUrl:"INDIAN_STATES"},Maharashtra:{code:"inmh",fileUrl:"INDIAN_STATES"},Manipur:{code:"inmn",fileUrl:"INDIAN_STATES"},Meghalaya:{code:"inml",fileUrl:"INDIAN_STATES"},Mizoram:{code:"inmz",fileUrl:"INDIAN_STATES"},Nagaland:{code:"innl",fileUrl:"INDIAN_STATES"},Odisha:{code:"inor",fileUrl:"INDIAN_STATES"},Punjab:{code:"inpb",fileUrl:"INDIAN_STATES"},Rajasthan:{code:"inrj",fileUrl:"INDIAN_STATES"},Sikkim:{code:"insk",fileUrl:"INDIAN_STATES"},"Tamil Nadu":{code:"intn",fileUrl:"INDIAN_STATES"},Telangana:{code:"intg",fileUrl:"INDIAN_STATES"},Tripura:{code:"intr",fileUrl:"INDIAN_STATES"},Uttarakhand:{code:"inut",fileUrl:"INDIAN_STATES"},"Uttar Pradesh":{code:"inup",fileUrl:"INDIAN_STATES"},"West Bengal":{code:"inwb",fileUrl:"INDIAN_STATES"},"Andaman and Nicobar Islands":{code:"inan",fileUrl:"INDIAN_STATES"},Chandigarh:{code:"inch",fileUrl:"INDIAN_STATES"},"Dadra and Nagar Haveli":{code:"indn",fileUrl:"INDIAN_STATES"},"Daman and Diu":{code:"indn",fileUrl:"INDIAN_STATES"},"Dadra and Nagar Haveli and Daman and Diu":{code:"indn",fileUrl:"INDIAN_STATES"},Delhi:{code:"indl",fileUrl:"INDIAN_STATES"},"Jammu and Kashmir":{code:"injk",fileUrl:"INDIAN_STATES"},Ladakh:{code:"inla",fileUrl:"INDIAN_STATES"},Lakshadweep:{code:"inld",fileUrl:"INDIAN_STATES"},Puducherry:{code:"inpy",fileUrl:"INDIAN_STATES"}},w=t(7),_=t(104),L=t(21),M=t(268),F=t(585),U=t(109),O=l.a.createContext({locationCode:"wd",updateLocationCode:function(e){}});var P=function(e){console.log("entered flat map "),console.log(e);var a=Object(n.useContext)(O),t=Object(n.useRef)(null),i=Object(n.useRef)(null),o=k[e.locationCode],r=k[e.locationCode]in V?"INDIAN_STATES":k[e.locationCode];console.log(o,e.locationCode,r);var s="",c=!1;function d(e){var t=0;o in V?o in V&&(t=e.properties[A[r].propertyField],console.log("not updating context to:"+t)):(t=V[e.properties[A[r].propertyField]].code.substring(2).toLowerCase(),((t=I[t])in j||"in"===t||"wd"===t)&&(console.log("updating context to:"+t),a.updateLocationCode(t)))}function m(a){console.log(a),console.log(a.properties[A[r].propertyField]),h(a.properties[A[r].propertyField]);var t=0,n=0,l=0,i=0;o in V?o in V&&a.properties[A[r].propertyField]in e.data&&(t=parseInt(e.data[a.properties[A[r].propertyField]].confirmed)||0,i=parseInt(e.data[a.properties[A[r].propertyField]].active)||0,n=parseInt(e.data[a.properties[A[r].propertyField]].recovered)||0,l=parseInt(e.data[a.properties[A[r].propertyField]].deceased)||0):(t=parseInt(e.data[V[a.properties[A[r].propertyField]].code.substring(2).toUpperCase()].confirmed)||0,i=parseInt(e.data[V[a.properties[A[r].propertyField]].code.substring(2).toUpperCase()].active)||0,n=parseInt(e.data[V[a.properties[A[r].propertyField]].code.substring(2).toUpperCase()].recovered)||0,l=parseInt(e.data[V[a.properties[A[r].propertyField]].code.substring(2).toUpperCase()].deaths)||0),console.log(t),console.log(i),console.log(n),console.log(l),document.getElementById("confirmed_value").innerHTML=t,document.getElementById("active_value").innerHTML=i,document.getElementById("recovered_value").innerHTML=n,document.getElementById("deceased_value").innerHTML=l,document.getElementById("mapRegionName").innerHTML=N(a.properties[A[r].propertyField])}function g(a){console.log("rendering flat map");var n=null;o in A&&A[o].projectionType===x.name?(n=F.a()).parallel([-45]):n=L.a();var l=L.b().projection(n);console.log(A[r].featureCollectionObject(o.toLowerCase()));var u=U.a(a,a.objects[A[r].featureCollectionObject(o.toLowerCase())]).features;console.log("features",u);var p=U.a(a,a.objects[A[r].featureCollectionObject(o.toLowerCase())]),g=L.i(t.current),h=parseInt(g.style("width")),f=parseInt(g.style("height"));n.fitSize([h,f],p);var v=0,y=null;0===e.caseType?(y=function(e){return L.f(2*e)},v=e.maxValues.maxTotalConfirmed):1===e.caseType?(y=function(e){return L.c(2.5*e)},v=e.maxValues.maxTotalActive):2===e.caseType?(y=function(e){return L.d(3*e)},v=e.maxValues.maxTotalRecovered):3===e.caseType?(y=function(e){return L.e(3*e)},v=e.maxValues.maxTotalDeceased):(y=function(e){return L.f(2*e)},v=e.maxValues.maxTotalConfirmed);var b=L.h([0,Math.max(1,v)],y);console.log(v),g.selectAll("*").remove(),g.append("g").attr("class","region").selectAll("path").data(u).enter().append("path").attr("d",l).attr("fill",(function(a){if(null!=e.data){var t=0;return o in V?o in V&&(a.properties[A[r].propertyField]in e.data?t=parseInt(e.data[a.properties[A[r].propertyField]][e.typeArray[e.caseType]])||0:(t=0,console.log(a.properties[A[r].propertyField]))):(console.log(r),console.log(a.properties[A[r].propertyField]),console.log(V[a.properties[A[r].propertyField]].code),console.log(V[a.properties[A[r].propertyField]].code.substring(2).toUpperCase()),console.log(e.data[V[a.properties[A[r].propertyField]].code.substring(2).toUpperCase()][e.typeArray[e.caseType]]),t=parseInt(e.data[V[a.properties[A[r].propertyField]].code.substring(2).toUpperCase()][e.typeArray[e.caseType]])||0),0===v?"#ffffff":b(t)}return"#61f2ff"})).attr("pointer-events","all").attr("class","sub-region").on("mouseenter",(function(e){console.log("mouseenter"),c||m(e)})).on("mouseleave",(function(e){console.log("mouseleave",e)})).on("touchstart",(function(e){c=!0,console.log("touchstart",e),function(e){s===e?d(e):(s=e,m(e))}(e)})).on("touchend",(function(e){console.log("touchend",e)})).on("click",(function(e){console.log("click triggered","touch:"+c),c?c=!1:(console.log("click",e),d(e))})).style("cursor","pointer"),g.append("g").append("path").attr("class","borders").attr("stroke","#ff073a20").attr("fill","none").attr("stroke-width",2.744).attr("d",l(U.b(a,a.objects[A[r].featureCollectionObject(o.toLowerCase())])));var E=L.i(i.current);E.append("g").attr("class","legendLinear").attr("transform","translate(20,20)");var N=M.a.legendColor().shapeWidth(100).cells(5).orient("horizontal").scale(b);E.select(".legendLinear").call(N)}var h=function(e){L.j(".sub-region").classed("map-hover",(function(a,t,n){return e===a.properties[A[r].propertyField]&&(n[t].parentNode.appendChild(n[t]),!0)}))};return Object(n.useEffect)((function(){null!=o&&Object(p.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in useEffect. mapName:"+o),a=null,console.log(A[r].mapFile(o.toLowerCase())),e.next=5,L.g(A[r].mapFile(o.toLowerCase()));case 5:a=e.sent,console.log(a),t.current&&g(a);case 8:case"end":return e.stop()}}),e)})))()})),null!=e.data?l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"svg-map-parent"},l.a.createElement("svg",{id:(new Date).getTime(),width:"100%",height:"100%",ref:t,className:"shadow-filter"}))):l.a.createElement("div",{className:"svg-parent",style:{height:"100%",padding:"10px"}},l.a.createElement("div",{className:"overlap"},l.a.createElement("img",{alt:"loader",className:"overlapImage",src:"/covid19-react/loaderCovid.gif"})))};var R=function(e){var a=Object(n.useRef)(null);console.log(e,e.buttonStyles,e.val,e.buttonStyles[e.val]);var t="black";return 0===e.val?t="#ff4444":1===e.val?t="#4285F4":2===e.val?t="#00C851":3===e.val&&(t="black"),l.a.createElement("div",{className:"mapData",style:{color:t,cursor:"pointer"}},l.a.createElement("div",{className:e.buttonStyles[e.val]+" data_button mapDataSubDiv",id:e.id,ref:a,onClick:function(){e.toggleButton(e.val)}},l.a.createElement("div",{style:{textAlign:"center",height:"50%",fontWeight:"700"}},e.id),l.a.createElement("div",{id:e.id.toLowerCase()+"_value",style:{textAlign:"center",width:"100%",height:"50%"}},e.initVal)))},H=t(40);var B=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.class+" chartButton",style:{cursor:"pointer"},onClick:e.clickHandler},l.a.createElement("div",{className:"data_button",id:e.value+"_mapButton"},l.a.createElement("div",{style:{textAlign:"center",height:"50%",fontWeight:"700"}},e.value))))};var z=function(e){var a="all",t="m1",i="m2",o=Object(n.useState)(a),r=Object(_.a)(o,2),s=r[0],c=r[1],d=null,m={};function u(e){console.log(e),c(e)}return m[a]="normal-raised-button",m[t]="normal-raised-button",m[i]="normal-raised-button",s===a?d=e.timeSeriesData:s===t?d=e.timeSeriesData.slice(e.timeSeriesData.length-31,e.timeSeriesData.length):s===i&&(d=e.timeSeriesData.slice(e.timeSeriesData.length-62,e.timeSeriesData.length)),m[s]="normal-pressed-button",null!=e.timeSeriesData?l.a.createElement(n.Fragment,null,l.a.createElement("div",{class:"chart-title"},e.title,l.a.createElement(B,{class:m[a],value:"all",clickHandler:function(){u(a)}}),l.a.createElement(B,{class:m[t],value:"1m",clickHandler:function(){u(t)}}),l.a.createElement(B,{class:m[i],value:"2m",clickHandler:function(){u(i)}})),l.a.createElement("div",{style:{height:"calc(100% - 39px)"}},l.a.createElement(H.d,{width:"100%",height:"100%"},l.a.createElement(H.c,{syncId:"syncChartsID_"+e.syncId,margin:{top:0,right:-25,bottom:0,left:0},data:d},l.a.createElement(H.a,{style:{fontSize:"0.7rem"},margin:{top:0,right:0,bottom:0,left:0},verticalAlign:"bottom",align:"center",height:36,iconType:"square",iconSize:9}),l.a.createElement(H.f,{style:{fontSize:"0.7rem"},dataKey:"date",axisLine:!1,padding:{right:10},tickLine:!1}),l.a.createElement(H.g,{style:{fontSize:"0.7rem"},tickFormatter:function(e){return 0===e?0:e<1e3?e:e<1e5?e/1e3+"K":e<1e7?e/1e5+"L":e/1e7+"C"},scale:"linear",orientation:"right",type:"number",domain:[0,e.maxValue+1e4],axisLine:!1,padding:{left:1e3}}),l.a.createElement(H.e,{animationEasing:"ease-out"}),e.dataKey.map((function(a,t){return l.a.createElement(H.b,{name:e.labels[t],type:"natural",dataKey:a,stroke:e.stroke[t],dot:!1,strokeWidth:2,isAnimationActive:!0,animationEasing:"ease-in-out"})})))))):l.a.createElement("div",{className:"overlap"},l.a.createElement("img",{alt:"loader",className:"overlapImage",src:"/covid19-react/loaderCovid.gif"}))};var K=function(e){console.log(e);var a=Object(n.useState)(0),t=Object(_.a)(a,2),i=t[0],o=t[1],r=["confirmed","active","recovered","deaths"],s=new Array(4).fill("normal-raised-button map-numbers");s[i]="normal-pressed-button map-numbers";var c=null,d=null,m=null,u=null;null!=e.data.timeSeriesData?(c=e.data.timeSeriesData[e.data.timeSeriesData.length-1].totalconfirmed,d=e.data.timeSeriesData[e.data.timeSeriesData.length-1].totalactive,m=e.data.timeSeriesData[e.data.timeSeriesData.length-1].totalconfirmed-e.data.timeSeriesData[e.data.timeSeriesData.length-1].totalactive,u=e.data.timeSeriesData[e.data.timeSeriesData.length-1].totaldeceased):(console.log("/covid19-react/loader1.gif"),c="loading",d="loading",m="loading",u="loading");var p=function(e){console.log("in toggle button",e),(s=s.map((function(e){return"normal-raised-button map-numbers"})))[e]="normal-pressed-button map-numbers",console.log(s),o(e)};return l.a.createElement("div",null,l.a.createElement("div",{id:"map",className:"map"},l.a.createElement("div",{className:"normal-pressed",style:{height:"100%",padding:"10px",position:"relative"}},l.a.createElement("div",{className:"mapDataHolder"},l.a.createElement("div",{className:"mapData full-width-map-data-1"},l.a.createElement("div",{className:"normal-pressed mapDataSubDiv",style:{paddingTop:"2px"}},l.a.createElement("div",{class:"vertical-center-helper-parent"},l.a.createElement("div",{style:{textAlign:"center",display:"flex",margin:"auto auto",fontWeight:500,lineHeight:1.15,fontSize:"1.1rem"}},l.a.createElement("div",{id:"mapRegionName",style:{margin:"auto auto",height:"100%",overflow:"hidden"}},N(k[e.locationCode])))))),l.a.createElement(R,{id:"Confirmed",val:0,buttonStyles:s,toggleButton:p,initVal:e.latestValues.latestCVal}),l.a.createElement(R,{id:"Active",val:1,buttonStyles:s,toggleButton:p,initVal:e.latestValues.latestAVal}),l.a.createElement(R,{id:"Recovered",val:2,buttonStyles:s,toggleButton:p,initVal:e.latestValues.latestRVal}),l.a.createElement(R,{id:"Deceased",val:3,buttonStyles:s,toggleButton:p,initVal:e.latestValues.latestDVal})),l.a.createElement("div",{className:"mapHolder"},l.a.createElement(O.Consumer,null,(function(a){var t=a.locationCode;return l.a.createElement(P,{locationCode:t,data:e.data.outerMapData,maxValues:e.maxValues,caseType:i,initVals:[c,d,m,u],typeArray:r})}))),l.a.createElement("div",{className:"pointingDeviceMapHelp"},"Hover on any region for details, Click to enter region."),l.a.createElement("div",{className:"touchDeviceMediumMapHelp"},"Tap any region for details, Tap again to enter region."))),l.a.createElement("div",{style:{height:"35vh",minHeight:"245px",maxHeight:"350px",padding:"10px 5px 10px 0"}},l.a.createElement("div",{className:"normal-pressed",style:{height:"100%",padding:"10px 5px 0 10px",position:"relative"}},l.a.createElement(z,{title:"Cases Over Time",labels:["Confirmed","Active","Recovered","Deceased"],dataKey:["totalconfirmed","totalactive","totalrecovered","totaldeceased"],stroke:["#ff0000","#4285f4","#00c851","#000000"],timeSeriesData:e.data.timeSeriesData,maxValue:e.maxValues.maxTotalConfirmed,syncId:"1"}))),l.a.createElement("div",{style:{height:"35vh",minHeight:"245px",maxHeight:"350px",padding:"10px 5px 10px 0"}},l.a.createElement("div",{className:"normal-pressed",style:{height:"100%",padding:"10px 5px 0 10px",position:"relative"}},l.a.createElement(z,{title:"New Cases Trends",labels:["Confirmed","Recovered","Deceased"],dataKey:["dailyconfirmed","dailyrecovered","dailydeceased"],stroke:["#ff0000","#00c851","#000000"],timeSeriesData:e.data.timeSeriesData,maxValue:e.maxValues.maxDeltaValue,syncId:"2"}))))},W=t(269);var G=function(e){var a=Object(n.useContext)(O),t=k[a.locationCode]in V?"INDIAN_STATES":k[a.locationCode];console.log(e),console.log(k[a.locationCode]),console.log(A[t].dataObjectForRegionName);var i=[];if(null!==e.data){if(e.locationCode in j)for(var o in e.data)o.toUpperCase()!=="Total".toUpperCase()&&o.toUpperCase()!=="Other State".toUpperCase()&&i.push({region:o,confirmed:e.data[o].confirmed,active:e.data[o].active,recovered:e.data[o].recovered,deaths:e.data[o].deceased});else if(!(e.locationCode in j))for(var r in e.data)e.data[r][A[t].dataObjectForRegionName].toUpperCase()!=="Total".toUpperCase()&&i.push({region:e.data[r][A[t].dataObjectForRegionName],confirmed:e.data[r].confirmed,active:e.data[r].active,recovered:e.data[r].recovered,deaths:e.data[r].deaths});console.log(i)}function s(e,a,t,n){var l=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(void 0!==t){var i=100;n=1e3*n/i,console.log(t),console.log("incrementing till:"+t+" from:"+a);var o=a,r=t>a?1:-1;r=l?t/n:Math.ceil(t/n),console.log(r);var s=document.getElementById(e),c=setInterval((function(){if((o+=r)>t)return s.innerHTML=l?t.toFixed(2):t,void clearInterval(c);s.innerHTML=l?o.toFixed(2):o,o===t&&clearInterval(c)}),10)}}var c=document.documentElement.clientHeight-58;return console.log(c),Object(n.useEffect)((function(){console.log("in useEffect"),0!==Object.keys(e.latestValues).length&&(s("main-figure",0,e.latestValues.latestCVal,10),s("active-number",0,e.latestValues.latestAVal,10),s("recovered-number",0,e.latestValues.latestRVal,10),s("deceased-number",0,e.latestValues.latestDVal,10),s("recovery-ratio-number",0,e.latestValues.latestRVal/e.latestValues.latestCVal*100,10,!0),s("deceased-ratio-number",0,e.latestValues.latestDVal/e.latestValues.latestCVal*100,10,!0),s("new-cases-number",0,e.stats.newConfirmed,10)),function(){for(var e=document.getElementsByTagName("tr"),t=0;t<e.length;t++){var n=e[t];n.onclick=function(e){return function(){var t=e.getElementsByTagName("td")[0].innerHTML;t in V?(console.log("row:"+V[t].code),a.updateLocationCode(V[t].code)):console.log("row:"+t)}}(n)}}()}),[e.latestValues,e.stats.newConfirmed]),l.a.createElement("div",null,l.a.createElement(w.o,{style:{padding:"20px",paddingTop:"10px",paddingBottom:"10px",height:"auto"}},l.a.createElement(w.h,{style:{height:"42px",padding:"0px 0px 0px 0px"},md:6,className:"logo"},l.a.createElement("img",{alt:"CoviTrack Logo",style:{height:"100%"},src:"/covid19-react/LogoCoviTrack2.png"})),l.a.createElement(w.h,{style:{height:"42px",padding:"0px 0px 0px 0px"},md:6},l.a.createElement("div",{style:{width:"100%"},className:""},l.a.createElement(W.a,{className:"basic-single",classNamePrefix:"RegionSelect",value:e.renderCount>0?{key:a.locationCode,value:a.locationCode,flag:"in",label:k[a.locationCode]}:null,isSearchable:!0,name:"region",options:C,onChange:function(e){console.log(e),console.log(a),a.updateLocationCode(e.key)},styles:"normal-pressed",onFocus:function(e){document.getElementsByClassName("RegionSelect__indicators")[0].className="RegionSelect__indicators-focused css-1hb7zxy-IndicatorsContainer"},onBlur:function(e){document.getElementsByClassName("RegionSelect__indicators-focused")[0].className="RegionSelect__indicators css-1hb7zxy-IndicatorsContainer"},placeholder:"Search State/District..."}))),l.a.createElement(w.h,{size:12,style:{padding:"15px 0px 0px 0px"}},l.a.createElement(w.d,{className:"normal-pressed"},null===e.data?l.a.createElement(w.e,{style:{height:"309px"}},l.a.createElement("div",{className:"overlap"},l.a.createElement("img",{alt:"loader",className:"overlapImage",src:"/covid19-react/loaderCovid.gif"}))):l.a.createElement(w.e,null,l.a.createElement(w.g,null,"Cases Summary - ",l.a.createElement("span",{id:"summary_location_code",className:"emphasis-text"},k[e.locationCode])),l.a.createElement(w.f,null,l.a.createElement("small",null,"TOTAL CONFIRMED CASES"),l.a.createElement("br",null),l.a.createElement(w.g,{className:"main-figure",id:"main-figure"},0!==Object.keys(e.latestValues).length?0:"\xa0"),l.a.createElement("div",{class:"bar-chart-using-progress-bar"},l.a.createElement(w.n,{className:"progress-custom-active customtooltip",barClassName:"progress-active",height:"12px",color:"primary",value:100,wrapperStyle:{width:100*e.latestValues.latestAVal/e.maxValues.maxTotalConfirmed+"%"}},l.a.createElement("span",{class:"customtooltiptext"},"Active: ",(100*e.latestValues.latestAVal/e.maxValues.maxTotalConfirmed).toFixed(2)+"%")),l.a.createElement(w.n,{className:"progress-custom-recovered customtooltip",barClassName:"progress-recovered",height:"12px",color:"success",value:100,wrapperStyle:{width:100*e.latestValues.latestRVal/e.latestValues.latestCVal+"%"}},l.a.createElement("span",{class:"customtooltiptext"},"Recovered: ",(100*e.latestValues.latestRVal/e.latestValues.latestCVal).toFixed(2)+"%")),l.a.createElement(w.n,{className:"progress-custom-deceased customtooltip",barClassName:"progress-deceased",height:"12px",color:"grey darken-3",value:100,wrapperStyle:{width:100*e.latestValues.latestDVal/e.latestValues.latestCVal+"%"}},l.a.createElement("span",{class:"customtooltiptext"},"Deceased: ",(100*e.latestValues.latestDVal/e.latestValues.latestCVal).toFixed(2)+"%"))),l.a.createElement(w.o,{style:{margin:"0px"}},l.a.createElement(w.h,{style:{marginRight:"auto",padding:"0px"},className:"normal-pressed custom-summary-cn-col margin-bottom-15-xs-sm"},l.a.createElement("ul",{class:"summary-case-categories"},l.a.createElement("li",null,l.a.createElement("div",{className:"summary-case-numbers"},l.a.createElement("span",null,l.a.createElement(w.b,{color:"primary",className:"summary-case-number-badge"},"\xa0"),"Active"),l.a.createElement("span",{id:"active-number",className:"summary-case-number blue-color"},0!==Object.keys(e.latestValues).length?0:"\xa0"))),l.a.createElement("li",null,l.a.createElement("div",{className:"summary-case-numbers"},l.a.createElement("span",null,l.a.createElement(w.b,{color:"success",className:"summary-case-number-badge"},"\xa0"),"Recovered"),l.a.createElement("span",{id:"recovered-number",className:"summary-case-number green-color"},0!==Object.keys(e.latestValues).length?0:"\xa0"))),l.a.createElement("li",null,l.a.createElement("div",{className:"summary-case-numbers"},l.a.createElement("span",null,l.a.createElement(w.b,{color:"black",className:"summary-case-number-badge"},"\xa0"),"Deceased"),l.a.createElement("span",{id:"deceased-number",className:"summary-case-number black-color"},0!==Object.keys(e.latestValues).length?0:"\xa0"))))),l.a.createElement(w.h,{style:{marginLeft:"auto",padding:"0px"},className:"normal-pressed custom-summary-cn-col"},l.a.createElement("ul",{class:"summary-case-categories"},l.a.createElement("li",null,l.a.createElement("div",{className:"summary-case-numbers"},l.a.createElement("span",null,l.a.createElement(w.b,{color:"danger",className:"summary-case-number-badge"},"\xa0"),"New Cases"),l.a.createElement("span",{id:"new-cases-number",className:"summary-case-number red-color"},0!==Object.keys(e.latestValues).length?0:"\xa0"))),l.a.createElement("li",null,l.a.createElement("div",{className:"summary-case-numbers"},l.a.createElement("span",null,l.a.createElement(w.b,{color:"success",className:"summary-case-number-badge"},"\xa0"),"Recovery Ratio"),l.a.createElement("span",{className:"summary-case-number green-color"},"%"),l.a.createElement("span",{id:"recovery-ratio-number",className:"summary-case-number green-color"},"0"))),l.a.createElement("li",null,l.a.createElement("div",{className:"summary-case-numbers"},l.a.createElement("span",null,l.a.createElement(w.b,{color:"black",className:"summary-case-number-badge"},"\xa0"),"Death Ratio"),l.a.createElement("span",{className:"summary-case-number black-color"},"%"),l.a.createElement("span",{id:"deceased-ratio-number",className:"summary-case-number black-color"},"0"))))))))))),l.a.createElement(w.o,{style:{padding:"20px",paddingTop:"10px",paddingBottom:"10px",minHeight:"250px",maxHeight:c+"px"}},l.a.createElement("div",{className:"normal-pressed tableHolder"},l.a.createElement(w.p,{scrollY:!0,maxHeight:c-20+"px",hover:!0,small:!0}," ",l.a.createElement(w.r,{columns:[{label:"Region",field:"region",width:100,minimal:"xs"},{label:"Confirmed",field:"confirmed",sort:"asc",width:100,minimal:"xs"},{label:"Active",field:"active",sort:"asc",width:100,minimal:"xs"},{label:"Recovered",field:"recovered",sort:"asc",width:100,minimal:"xs"},{label:"Deceased",field:"deaths",sort:"asc",width:100,minimal:"xs"}]}),null===e.data?l.a.createElement("div",{className:"overlap"},l.a.createElement("img",{alt:"loader",className:"overlapImage",src:"/covid19-react/loaderCovid.gif"})):l.a.createElement(w.q,{style:{cursor:"pointer"},className:"block-example border-left border-dark",rows:i})))))},J=function(e){Object(c.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(r.a)(this,t),console.log("constructor",e),(n=a.call(this,e)).timeSeriesWithActive=function(e,a,t){a.forEach((function(e,n){a[n][D[t].totalActiveProp]=e[D[t].totalConfirmedProp]-e[D[t].totalRecoveredProp]}))},n.state={locationCode:e.locationCode,updateLocationCode:e.updateLocationCode,mainData:{outerMapData:null,timeSeriesData:null},maxValues:{},latestValues:{},stats:{},renderCount:0},n.setStateFromData=n.setIndianObjectFromData.bind(Object(g.a)(n)),n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log("calling from did mount"),this.loadAsyncLocationData(this.state.locationCode)}},{key:"componentDidUpdate",value:function(e,a){console.log(this.state,a),console.log(this.state.locationCode===a.locationCode),this.state.locationCode!==a.locationCode&&(console.log("Calling loadAsyncData for "+this.state.locationCode),this.loadAsyncLocationData(this.state.locationCode)),console.log("MainContent RENDER COMPLETE")}},{key:"render",value:function(){return console.log("rendering Main Content "),console.log(this.state),console.log(null!=this.state.mainData.timeSeriesData),l.a.createElement("div",{style:{backgroundImage:"/covid19-react/coronaBackground.jpg"}},l.a.createElement(w.i,{fluid:!0,style:{maxWidth:"1540px"}},l.a.createElement(w.o,{style:{height:"100vh"}},l.a.createElement(w.h,{lg:"6",xl:"6",className:"right-padding-5-992px custCol"},l.a.createElement(G,{renderCount:this.state.renderCount,stats:this.state.stats,data:this.state.mainData.outerMapData,latestValues:this.state.latestValues,maxValues:this.state.maxValues,locationCode:this.state.locationCode})),l.a.createElement(w.h,{lg:"6",xl:"6",className:"left-padding-5-992px custCol"},l.a.createElement(K,{data:this.state.mainData,latestValues:this.state.latestValues,maxValues:this.state.maxValues,locationCode:this.state.locationCode})))))}},{key:"componentWillUnmount",value:function(){this.loadAsyncLocationData&&this.loadAsyncLocationData.cancel()}},{key:"getLatestData",value:function(e){return{latestCVal:e[e.length-1].totalconfirmed,latestAVal:e[e.length-1].totalactive,latestRVal:e[e.length-1].totalconfirmed-e[e.length-1].totalactive,latestDVal:e[e.length-1].totaldeceased}}},{key:"getMaxDeltaValue",value:function(e){for(var a=0,t=e.length-1;t>=e.length-32;t--)a=Math.max(a,e[t].dailyconfirmed,e[t].dailyrecovered,e[t].dailydeceased);return a}},{key:"getMaxConfirmedValueFromOuterMapData",value:function(e,a){console.log(e);var t=0,n=0,l=0,i=0;return Object.keys(e).forEach((function(a,o){t=Math.max(t,e[a].confirmed),n=Math.max(n,e[a].active),l=Math.max(l,e[a].recovered),i=Math.max(i,e[a].deaths)})),console.log([t,n,l,i]),{maxTotalConfirmed:t,maxTotalActive:n,maxTotalRecovered:l,maxTotalDeceased:i,maxDeltaValue:this.getMaxDeltaValue(a)}}},{key:"getStats",value:function(e){return{newConfirmed:e[e.length-1].totalconfirmed-e[e.length-2].totalconfirmed}}},{key:"setIndianObjectFromData",value:function(e,a){var t=k[this.state.locationCode]in V?"INDIAN_STATES":k[this.state.locationCode];this._loadAsynLocationData=null,console.log("here's the data fetched"),console.log(e.data,a),console.log(D[t][b]),console.log(D[t]),console.log(D[t][E]);var n=e.data[D[t][E]];console.log(n),this.timeSeriesWithActive(a,n,t);var l={};e.data[D[t][b]].forEach((function(e,t){l[e[S[a].name]]=e}));var i=e.data[D[t][E]];this.updateCompStateFromData({outerMapData:l,timeSeriesData:i,locationName:a})}},{key:"setIndianStateObjectFromData",value:function(){var e=Object(p.a)(u.a.mark((function e(a,t){var n,l,i,o,r,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("the data fetched"),e.next=3,this.loadAsyncData(y);case 3:n=e.sent,console.log(a.data,t,n),l=[],i={},o=0,r=0,s=0,c=V[t].code.substring(2),n.data.states_daily.forEach((function(e,a){if(a%3===0){var t=parseInt(e[c]);i.date=e.date,o+=t,i.totalconfirmed=o,i.dailyconfirmed=t}else if(a%3===1){var n=parseInt(e[c]);r+=n,i.totalrecovered=r,i.dailyrecovered=n}else if(a%3===2){var d=parseInt(e[c]);s+=d,i.totaldeceased=s,i.dailydeceased=d,i.totalactive=i.totalconfirmed-i.totalrecovered,l.push(i),i={}}})),console.log(l),this.updateCompStateFromData({outerMapData:a.data[t].districtData,timeSeriesData:l,locationName:t});case 10:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"updateCompStateFromData",value:function(e){this.setState({mainData:{outerMapData:e.outerMapData,timeSeriesData:e.timeSeriesData},maxValues:this.getMaxConfirmedValueFromOuterMapData(e.outerMapData,e.timeSeriesData),latestValues:this.getLatestData(e.timeSeriesData),stats:this.getStats(e.timeSeriesData)})}},{key:"loadAsyncLocationData",value:function(e){var a=this;console.log(e),setTimeout((function(){console.log("Getting Data now !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!");var t="",n=k[e];e in j?t=v:e in j||(t=f),h.get(t).then((function(t){"in"===e?(console.log("For India"),a.setIndianObjectFromData(t,n)):e in j&&(console.log("For Indian States"),a.setIndianStateObjectFromData(t,n))}))}),3e3)}},{key:"loadAsyncData",value:function(){var e=Object(p.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Getting Another Data now ###########################"),e.next=3,h.get(a);case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}],[{key:"getDerivedStateFromProps",value:function(e,a){console.log("getDerivedStateFromProps",e);return e.locationCode!==a.locationCode?{locationCode:e.locationCode,mainData:{outerMapData:null,timeSeriesData:null},renderCount:a.renderCount+1}:null}}]),t}(l.a.Component),q=function(e){Object(c.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(r.a)(this,t),(n=a.call(this,e)).updateLocationCode=function(e){console.log("Setting APP State",e),n.setState({locationCode:e})},n.state={locationCode:"in",updateLocationCode:n.updateLocationCode},n}return Object(s.a)(t,[{key:"render",value:function(){return console.log("rendering app"),l.a.createElement(O.Provider,{value:this.state},l.a.createElement(J,{locationCode:this.state.locationCode,updateLocationCode:this.updateLocationCode}))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(556),t(557),t(558);o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[331,1,2]]]);
//# sourceMappingURL=main.a88d7572.chunk.js.map